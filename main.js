(()=>{"use strict";var t={53:function(t,i,s){var e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const o=e(s(411));class n{constructor(){this.afloat=[],this.sunk=[]}addAfloat(t){this.afloat.push(t)}addSunk(t){this.sunk.push(t);const i=this.afloat.indexOf(t);this.afloat.splice(i,1)}}i.default=class{constructor(){this.boardPositions=this.setPoints(),this.ships=[],this.shipState=new n}resetGameboard(){this.boardPositions=this.setPoints(),this.ships=[],this.shipState=new n}setPoints(){const t=[];for(let i=0;i<100;i++)t.push({isHit:!1,position:i,ship:void 0});return t}placeShip(t){this.ships.push(t);const i=t.startPosition,s=t.endPosition;if(s-i<10)for(let e=i;e<=s;e++)this.boardPositions[e].ship=t,this.shipState.addAfloat(e);else for(let e=i;e<=s;e+=10)this.shipState.addAfloat(e),this.boardPositions[e].ship=t}tryToPlaceShip(t,i){const s=new o.default(t,i);return!!this.checkIfShipCanBePlaced(s)&&(this.placeShip(s),!0)}checkIfShipCanBePlaced(t){let i=!0;const s=this.getPositionsToCheck(t);for(const t of s)this.checkPosition(t)&&(i=!1);return i}getPositionsToCheck(t){let i=[];for(const s of t.hull)i=i.concat(this.positionsToCheck(s.position));return[...new Set(i)]}checkPosition(t){return void 0!==this.getPosition(t).ship}positionsToCheck(t){const i=[];return t%10!=9&&(i.push(t+1),t>10&&i.push(t-9),t<90&&i.push(t+11)),t%10!=0&&(i.push(t-1),t>10&&i.push(t-11),t<90&&i.push(t+9)),t>10&&i.push(t-10),t<89&&i.push(t+10),i}isPositionHit(t){return!!this.boardPositions[t].isHit}getPosition(t){return this.boardPositions[t]}recieveAttack(t){var i,s;return null===this.boardPositions[t].ship?(null===(i=this.boardPositions[t].ship)||void 0===i||i.receiveHit(t),!1):(this.boardPositions[t].isHit=!0,null===(s=this.boardPositions[t].ship)||void 0===s||s.receiveHit(t),!0)}areShipsSunk(){for(const t of this.ships)if(!t.isSunk())return!1;return!0}randomShipSetup(){this.resetGameboard();for(let t=0;t<4;t++)console.log(t,this.ships),this.randomBinary()?this.randomVerticalShip():this.randomHorizontalShip()}randomVerticalShip(){let t=0,i=0,s=0;for(;t=Math.floor(10*Math.random()),i=10*Math.floor(7*Math.random())+t,s=i+30,!this.tryToPlaceShip(i,s););}randomHorizontalShip(){let t=0,i=0,s=0;for(;t=10*Math.floor(10*Math.random()),i=Math.floor(7*Math.random())+t,s=i+3,!this.tryToPlaceShip(i,s););}randomBinary(){return 0!==Math.round(Math.random())}}},878:function(t,i,s){var e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const o=e(s(53));i.default=class{constructor(t){this.isComputer=t,this.gameboard=new o.default,this.enemy=null}setShip(t,i){this.gameboard.tryToPlaceShip(t,i)}setEnemy(t){this.enemy=t}hasLost(){return this.gameboard.areShipsSunk()}recieveAttack(t){this.gameboard.recieveAttack(t)}randomizeShips(){this.gameboard.randomShipSetup()}beginAttack(t){var i;null===(i=this.enemy)||void 0===i||i.recieveAttack(t)}choosePositionToAttack(t){var i;(null===(i=this.enemy)||void 0===i?void 0:i.gameboard.isPositionHit(t))&&this.beginAttack(t)}takeAction(){this.isComputer}getSunk(){return this.gameboard.shipState.sunk}getAfloat(){return this.gameboard.shipState.afloat}humanAction(){}computerAction(){}}},411:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{constructor(t,i){this.length=this.setLength(t,i),this.hull=this.setHull(this.length,t,i),this.startPosition=t,this.endPosition=i}setHull(t,i,s){const e=[];if(s-i<10)for(let s=0;s<t;s++)e.push({isHit:!1,position:i+s});else for(let s=0;s<t;s++)e.push({isHit:!1,position:i+10*s});return e}setLength(t,i){return i-t<10?i-t+1:(i-t)/10+1}receiveHit(t){this.getPoint(t).isHit=!0}getPoint(t){for(const i of this.hull)if(i.position==t)return i;return this.hull[0]}isSunk(){for(const t of this.hull)if(!t.isHit)return!1;return!0}}},880:function(t,i,s){var e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const o=e(s(878)),n=new o.default(!1),r=new o.default(!0),h=document.getElementById("human--board"),a=document.getElementById("computer--board"),u=(t,i)=>{let s="";s=i.isComputer?"com_":"hum_";for(let i=0;i<100;i++){const e=document.createElement("div");e.className="game-square",e.id=s+i,t.appendChild(e)}},l=t=>{const i=t.getAfloat();let s="";s=t.isComputer?"com_":"hum_",console.log(s);for(const t of i){const i=document.getElementById(s+t);null==i||i.classList.add("ship--afloat")}};u(h,n),u(a,r),n.setEnemy(r),r.setEnemy(n),n.randomizeShips(),r.randomizeShips(),l(n),l(r)}},i={};!function s(e){var o=i[e];if(void 0!==o)return o.exports;var n=i[e]={exports:{}};return t[e].call(n.exports,n,n.exports,s),n.exports}(880)})();