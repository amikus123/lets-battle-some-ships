(()=>{"use strict";var t={18:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{constructor(){this.positions=this.initalSetup(),this.afloat=[],this.sunk=[],this.hit=[],this.miss=[],this.unplacable=[]}initalSetup(){const t=[];for(let i=0;i<100;i++)t.push({isHit:!1,position:i,ship:void 0,canPlace:!0});return t}setShipPositions(t,i,e){if("number"==typeof t)this.positions[t].ship=i;else for(const e of t)this.positions[e].ship=i}setHit(t){if("number"==typeof t)this.addToHitList(t);else for(const i of t)this.addToHitList(i)}addToHitList(t){this.positions[t].isHit=!0,this.hit.push(this.positions[t]),void 0===this.positions[t].ship?this.miss.push(this.positions[t]):this.hit.push(this.positions[t])}isHit(t){return!!this.positions[t].isHit}checkCanBePlaced(t){for(const i of t.hull)if(!this.positions[i.position].canPlace)return!1;return!0}getSunk(){}getAfloat(){}}},53:function(t,i,e){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const o=s(e(411)),n=s(e(18));i.default=class{constructor(){this.ships=[],this.boardState=new n.default,this.shipsSizes=[4,3,3,2,2,2,1,1,1,1]}resetGameboard(){this.ships=[],this.boardState=new n.default}areShipsSunk(){for(const t of this.ships)if(!t.isSunk())return!1;return!0}finishPlacingShip(t){this.ships.push(t);const i=t.startPosition,e=t.endPosition;if(e-i<10)for(let s=i;s<=e;s++)this.boardState.setShipPositions(s,t);else for(let s=i;s<=e;s+=10)this.boardState.setShipPositions(s,t)}tryToPlaceShip(t,i){const e=new o.default(t,i);return!!this.checkIfShipCanBePlaced(e).canBePlaced&&(this.finishPlacingShip(e),!0)}checkIfShipCanBePlaced(t){let i=!0;const e=this.getAdjacentToShip(t);for(const t of e)if(this.shipOrEmpty(t)){i=!1;break}return{canBePlaced:!0,positionsToCheck:e}}getAdjacentToShip(t){let i=[];for(const e of t.hull)i=i.concat(this.getAdjacentToPosition(e.position));return[...new Set(i)]}shipOrEmpty(t){return void 0!==this.getPosition(t).ship}getAdjacentToPosition(t){const i=[];return t%10!=9&&(i.push(t+1),t>9&&i.push(t-9),t<90&&i.push(t+11)),t%10!=0&&(i.push(t-1),t>9&&i.push(t-11),t<90&&i.push(t+9)),t>10&&i.push(t-10),t<90&&i.push(t+10),i}isPositionHit(t){return this.boardState.isHit(t)}getPosition(t){return this.boardState.positions[t]}recieveAttack(t){var i,e;return null===this.getPosition(t).ship?(null===(i=this.getPosition(t).ship)||void 0===i||i.receiveHit(t),!1):(this.getPosition(t).isHit=!0,null===(e=this.getPosition(t).ship)||void 0===e||e.receiveHit(t),!0)}randomShipSetup(){this.resetGameboard(),this.shipsSizes.forEach((t=>{this.randomBinary()?this.randomVerticalShip(t):this.randomHorizontalShip(t)}))}randomVerticalShip(t){let i=0,e=0,s=0,o=0;for(;i++,e=Math.floor(10*Math.random()),s=10*Math.floor(Math.random()*(t-1))+e,o=s+10*(t-1),!this.tryToPlaceShip(s,o)&&5e3!==i;);}randomHorizontalShip(t){let i=0,e=0,s=0,o=0;for(;i++,e=10*Math.floor(10*Math.random()),s=Math.floor(Math.random()*(t-1))+e,o=s+t-1,!this.tryToPlaceShip(s,o)&&5e3!==i;);}randomBinary(){return 0!==Math.round(Math.random())}}},878:function(t,i,e){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const o=s(e(53));i.default=class{constructor(t){this.isComputer=t,this.gameboard=new o.default,this.enemy=null}resetGameboard(){this.gameboard.resetGameboard()}setShip(t,i){this.gameboard.tryToPlaceShip(t,i)}setEnemy(t){this.enemy=t}hasLost(){return this.gameboard.areShipsSunk()}recieveAttack(t){this.gameboard.recieveAttack(t)}randomizeShips(){this.gameboard.randomShipSetup()}beginAttack(t){var i;null===(i=this.enemy)||void 0===i||i.recieveAttack(t)}choosePositionToAttack(t){var i;(null===(i=this.enemy)||void 0===i?void 0:i.gameboard.isPositionHit(t))&&this.beginAttack(t)}takeAction(){this.isComputer}getSunk(){return this.gameboard.boardState.sunk}getAfloat(){return this.gameboard.boardState.afloat}humanAction(){}computerAction(){}}},411:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{constructor(t,i){this.length=this.setLength(t,i),this.hull=this.setHull(this.length,t,i),this.startPosition=t,this.endPosition=i}setHull(t,i,e){const s=[];if(e-i<10)for(let e=0;e<t;e++)s.push({isHit:!1,position:i+e});else for(let e=0;e<t;e++)s.push({isHit:!1,position:i+10*e});return s}setLength(t,i){return i-t<10?i-t+1:(i-t)/10+1}receiveHit(t){this.getPoint(t).isHit=!0}getPoint(t){for(const i of this.hull)if(i.position==t)return i;return this.hull[0]}isSunk(){for(const t of this.hull)if(!t.isHit)return!1;return!0}}},880:function(t,i,e){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});const o=s(e(878)),n=new o.default(!1),r=new o.default(!0),a=document.getElementById("human--board"),h=document.getElementById("computer--board"),u=(t,i)=>{let e="";e=i.isComputer?"com_":"hum_";for(let i=0;i<100;i++){const s=document.createElement("div");s.className="game-square",s.id=e+i,t.appendChild(s)}},l=t=>{const i=t.getAfloat();let e="";e=t.isComputer?"com_":"hum_",console.log(e);for(const t of i){const i=document.getElementById(e+t);null==i||i.classList.add("ship--afloat")}};u(a,n),u(h,r),n.setEnemy(r),r.setEnemy(n),n.randomizeShips(),r.randomizeShips(),l(n),l(r)}},i={};!function e(s){var o=i[s];if(void 0!==o)return o.exports;var n=i[s]={exports:{}};return t[s].call(n.exports,n,n.exports,e),n.exports}(880)})();